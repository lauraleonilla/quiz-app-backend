(this["webpackJsonpquiz-app-frontend"]=this["webpackJsonpquiz-app-frontend"]||[]).push([[0],{171:function(e,t,a){},184:function(e,t,a){e.exports=a.p+"static/media/cat.1e89a684.jpeg"},207:function(e,t,a){e.exports=a(369)},334:function(e,t,a){},335:function(e,t,a){},336:function(e,t,a){},350:function(e,t,a){},351:function(e,t,a){},352:function(e,t,a){},353:function(e,t,a){},368:function(e,t,a){},369:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(42),u=a.n(c),o=a(24),i=a(65),l=a(175),s=a(37),p={GOT_USER:"GOT_USER",GOT_TOKEN:"GOT_TOKEN",QUIZ_DATA:"QUIZ_DATA",SELECT_QUIZ:"SELECT_QUIZ",BOOLEAN:"boolean",MULTIPLE:"multiple",CURRENT_SCORE:"CURRENT_SCORE",RESET_SCORE:"RESET_SCORE",ANIMAL_QUIZ:"Animals",FILM_QUIZ:"Film",BOOK_QUIZ:"Books",COMPUTER_QUIZ:"Computers",GENERAL_QUIZ:"General",BOOLEAN_QUIZ_DATA:"BOOLEAN_QUIZ_DATA",MULTI_QUIZ_DATA:"MULTIQUIZ_DATA"},m={appState:{user:null,token:null,quizData:[],selectedQuiz:null,booleanQuizData:[],multiQuizData:[]}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.appState,t=arguments.length>1?arguments[1]:void 0,a=null;switch(t.type){case p.QUIZ_DATA:return a=Object.assign({},e,{quizData:t.payload});case p.FILM_QUIZ_DATA:return a=Object.assign({},e,{filmQuizData:t.payload});case p.GOT_USER:return a=Object.assign({},e,{user:t.payload});case p.SELECT_QUIZ:return a=Object.assign({},e,{selectedQuiz:t.payload});case p.GOT_TOKEN:return a=Object.assign({},e,{token:t.payload});case p.BOOLEAN_QUIZ_DATA:if(e.booleanQuizData.length){var n=e.booleanQuizData.findIndex((function(e){return e.questionIndex===t.payload.questionIndex}));n>=0?(e.booleanQuizData[n]=t.payload,a=Object.assign({},e,{booleanQuizData:Object(s.a)(e.booleanQuizData)})):a=Object.assign({},e,{booleanQuizData:[].concat(Object(s.a)(e.booleanQuizData),[t.payload])})}else a=Object.assign({},e,{booleanQuizData:[].concat(Object(s.a)(e.booleanQuizData),[t.payload])});return a;case p.MULTI_QUIZ_DATA:if(e.multiQuizData.length){var r=e.multiQuizData.findIndex((function(e){return e.questionIndex===t.payload.questionIndex}));r>=0?(e.multiQuizData[r]=t.payload,a=Object.assign({},e,{multiQuizData:Object(s.a)(e.multiQuizData)})):a=Object.assign({},e,{multiQuizData:[].concat(Object(s.a)(e.multiQuizData),[t.payload])})}else a=Object.assign({},e,{multiQuizData:[].concat(Object(s.a)(e.multiQuizData),[t.payload])});return a;default:return e}},d=Object(i.c)({appState:f}),b=Object(i.d)(d,Object(i.a)(l.a)),E=a(21),h=a(35),v=a(371),O=Object(h.f)((function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to play quizzes!"),r.a.createElement(v.a,{basic:!0,color:"purple",content:"Click to start!",onClick:function(){e.history.push("quiz")}}))})),g=a(8),z=a.n(g),j=a(18),y=a(16),q=a(26),w=a.n(q),Q=function(){var e=Object(j.a)(z.a.mark((function e(t,a){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,a===p.ANIMAL_QUIZ&&(n="https://opentdb.com/api.php?amount=10&category=27&type=boolean&encode=base64"),a===p.FILM_QUIZ&&(n="https://opentdb.com/api.php?amount=10&category=11&type=boolean&encode=base64"),a===p.BOOK_QUIZ&&(n="https://opentdb.com/api.php?amount=10&category=10&difficulty=easy&type=multiple&encode=base64"),a===p.COMPUTER_QUIZ&&(n="https://opentdb.com/api.php?amount=10&category=18&type=boolean&encode=base64"),a===p.GENERAL_QUIZ&&(n="https://opentdb.com/api.php?amount=10&category=9&type=multiple&encode=base64"),t&&t===p.BOOLEAN&&(n="/api/quiz/userQuiz/boolean/".concat(a)),t&&t===p.MULTIPLE&&(n="/api/quiz/userQuiz/multiple/".concat(a)),e.next=10,w.a.get(n);case 10:return r=e.sent,e.abrupt("return",r.data.results||r.data);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),S=function(){var e=Object(j.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/quiz",e.next=3,w.a.get("/api/quiz");case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k={getQuizdata:Q,saveScore:function(){var e=Object(j.a)(z.a.mark((function e(t){var a,n,r,c,u,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/quiz/score",a=b.getState(),n={headers:{Authorization:"bearer ".concat(a.appState.token)}},e.next=5,w.a.post("/api/quiz/score",t,n);case 5:return r=e.sent,c=window.localStorage.getItem("loggedInUser"),c=JSON.parse(c),r.data.message?(u=c.scores.find((function(e){return e.id===r.data.newScore.id})),o=c.scores.indexOf(u),c.scores.splice(o,1),c.scores.push(r.data.newScore),window.localStorage.setItem("loggedInUser",JSON.stringify(c))):(c.scores.push(r.data),window.localStorage.setItem("loggedInUser",JSON.stringify(c))),e.abrupt("return",r.data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUserQuizTopics:S},x=(a(171),Object(h.f)(Object(o.b)(null,(function(e){return{selectQuiz:function(t){e({type:p.SELECT_QUIZ,payload:t})}}}))((function(e){var t=Object(n.useState)([]),a=Object(y.a)(t,2),c=a[0],u=a[1],o=function(t){e.selectQuiz(t)};Object(n.useEffect)((function(){(function(){var e=Object(j.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getUserQuizTopics();case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return r.a.createElement("div",{className:"quizWrapper"},r.a.createElement("h1",null,"Select a quiz"),r.a.createElement("div",{className:"quizTypeContainer"},r.a.createElement("div",null,r.a.createElement("h3",null,"True / False Quizzes"),[p.ANIMAL_QUIZ,p.FILM_QUIZ,p.COMPUTER_QUIZ].map((function(e){return r.a.createElement(E.b,{key:e,to:"/quiz/".concat(e)},r.a.createElement("p",{onClick:function(){return o(e)}},e))}))),r.a.createElement("div",null,r.a.createElement("h3",null,"Multiple choice quizzes"),[p.BOOK_QUIZ,p.GENERAL_QUIZ].map((function(e){return r.a.createElement(E.b,{key:e,to:"/quiz/".concat(e)},r.a.createElement("p",{onClick:function(){return o(e)}},e))})))),r.a.createElement("h2",null,"User generated quizzes"),r.a.createElement("div",{className:"userQuizContainer"},r.a.createElement("div",null,r.a.createElement("h3",null,"Multiple choice quizzes"),function(){if(c.multipleChoie&&c.multipleChoie.length)return c.multipleChoie.map((function(e){return r.a.createElement(E.b,{key:e.id,to:"/quiz/multipleChoice/".concat(e.id)},r.a.createElement("p",{onClick:function(){return o(e.id)}},e.quizTitle))}))}()),r.a.createElement("div",null,r.a.createElement("h3",null,"True / False Quizzes"),function(){if(c.boolean&&c.boolean.length)return c.boolean.map((function(e){return r.a.createElement(E.b,{key:e.id,to:"/quiz/boolean/".concat(e.id)},r.a.createElement("p",{onClick:function(){return o(e.id)}},e.quizTitle))}))}())))})))),D=a(31),N=a(380),I=a(53),C=(a(334),function(e){return r.a.createElement("div",null,r.a.createElement("h3",{className:"errorMessage"},e.message))}),T={login:function(){var e=Object(j.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("/api/login",t);case 2:return a=e.sent,window.localStorage.setItem("loggedInUser",JSON.stringify(a.data)),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fblogin:function(){var e=Object(j.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("/api/login",t);case 2:return a=e.sent,window.localStorage.setItem("loggedInUser",JSON.stringify(a.data)),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},U=a(182),_=a.n(U);a(335);function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){Object(D.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var F=Object(o.b)((function(e){return{user:e.appState.user}}),(function(e){return{gotUser:function(t){e({type:p.GOT_USER,payload:t})},gotToken:function(t){e({type:p.GOT_TOKEN,payload:t})}}}))((function(e){var t=Object(n.useState)(""),a=Object(y.a)(t,2),c=a[0],u=a[1],o=Object(n.useState)(""),i=Object(y.a)(o,2),l=i[0],s=i[1],p=Object(n.useState)(""),m=Object(y.a)(p,2),f=m[0],d=m[1],b=function(){var t=Object(j.a)(z.a.mark((function t(a){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={userName:c,passWord:l},t.prev=2,t.next=5,T.login(n);case 5:(r=t.sent)&&(e.gotUser(r),e.gotToken(r.token)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),d(t.t0.response.data.error);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(j.a)(z.a.mark((function t(a){var n,r,c;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n={name:a.name,fbId:a.userID})){t.next=15;break}return t.prev=2,t.next=5,T.fblogin(n);case 5:r=t.sent,c=L({},r,{image:a.picture.data.url}),e.gotUser(c),e.gotToken(c.token),window.localStorage.setItem("loggedInUser",JSON.stringify(c)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),d(t.t0.response.data.error);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"loginContainer"},e.user?r.a.createElement(O,null):r.a.createElement("div",{className:"loginElements"},r.a.createElement("h1",null,"Login"),r.a.createElement(C,{message:f}),r.a.createElement("form",{onSubmit:b,className:"inputForm"},r.a.createElement(N.a,{className:"inputField",icon:r.a.createElement(I.a,{name:"delete",link:!0,onClick:function(){u("")}}),placeholder:"Username...",value:c,onChange:function(e){u(e.target.value)}}),r.a.createElement(N.a,{className:"inputField",type:"password",icon:r.a.createElement(I.a,{name:"delete",link:!0,onClick:function(){s("")}}),placeholder:"Password...",value:l,onChange:function(e){s(e.target.value)}}),r.a.createElement(v.a,{className:"loginBtn",content:"Login",type:"submit",basic:!0,color:"purple"})),r.a.createElement("div",{className:"facebookButton"},r.a.createElement(_.a,{appId:"2238566619796019",autoLoad:!1,fields:"name,email,picture.type(large)",callback:h}))),r.a.createElement(E.b,{to:"/register"},"Or create an account here"))})),M=a(384),Z=(a(336),Object(h.f)((function(e){return r.a.createElement("div",{style:{padding:20}},r.a.createElement(M.a,null,r.a.createElement(M.a.Item,null,r.a.createElement(E.b,{to:"/"},"Start page")),r.a.createElement(M.a.Item,null,r.a.createElement(E.b,{to:"/chat"},"Chat")),r.a.createElement(M.a.Item,null,r.a.createElement(E.b,{to:"/ownQuizzes"},"Create own quiz")),r.a.createElement(M.a.Item,{className:"profileBtn"},r.a.createElement(E.b,{to:"/profile"},"My profile")),r.a.createElement(M.a.Item,{onClick:function(){return window.localStorage.removeItem("loggedInUser"),e.history.push("/"),void window.location.reload()}},"Logout")))}))),B=a(124),R=a.n(B),P={getChatmessages:function(){var e=Object(j.a)(z.a.mark((function e(){var t,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/api/chat");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),sendChatMessage:function(){var e=Object(j.a)(z.a.mark((function e(t){var a,n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=b.getState(),n={headers:{Authorization:"bearer ".concat(a.appState.token)}},!t||!t.message){e.next=7;break}return e.next=5,w.a.post("/api/chat",t,n);case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},G=(a(350),function(){var e=Object(n.useState)([]),t=Object(y.a)(e,2),a=t[0],c=t[1],u=Object(n.useState)(""),o=Object(y.a)(u,2),i=o[0],l=o[1];Object(n.useEffect)((function(){var e=function(){var e=Object(j.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getChatmessages();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e();var t=setInterval((function(){e()}),15e3);return function(){clearTimeout(t)}}),[]);var s=function(){l("")},p=function(){var e=Object(j.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={message:i,time:R()().unix()},e.next=4,P.sendChatMessage(a);case 4:s();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",{className:"chatWrapper"},r.a.createElement("h1",null,"Chat with other players here"),r.a.createElement("div",{className:"messageContainer"},a.map((function(e,t){return r.a.createElement("span",{key:t,className:"chatMessage"},r.a.createElement("p",{className:"timeStamp"},R.a.unix(e.time).format("YYYY/MM/DD HH:mm")),e.user.username?r.a.createElement("p",{className:"userName"},e.user.username,": "):r.a.createElement("p",{className:"userName"},e.user.name,": "),r.a.createElement("p",{className:"messagetext"},e.message))}))),r.a.createElement("form",{onSubmit:p,className:"chatForm"},r.a.createElement(N.a,{className:"inputField",icon:r.a.createElement(I.a,{name:"delete",link:!0,onClick:s}),placeholder:"Write a message!",value:i,onChange:function(e){l(e.target.value)}}),r.a.createElement(v.a,{className:"loginBtn",content:"Send",type:"submit",basic:!0,color:"purple"}))))}),H=a(184),W=a.n(H),J=(a(351),Object(o.b)((function(e){return{user:e.appState.user}}))((function(e){var t=e.user;if(!t)return null;return r.a.createElement("div",{className:"pageWrapper"},r.a.createElement("div",{className:"profileContainer"},t.username?r.a.createElement("p",{className:"title"},t.username):null,t.name?r.a.createElement("p",{className:"title"},t.name):null,t.image?r.a.createElement("img",{src:t.image,alt:t.image}):r.a.createElement("img",{className:"image",src:W.a,alt:"You!"})),r.a.createElement("div",{className:"scoreWrapper"},r.a.createElement("h2",null,"Scoreboard"),function(){if(t.scores&&t.scores.length)return t.scores.map((function(e){return r.a.createElement("div",{className:"scoreColumn",key:e.id},r.a.createElement("h3",null,"".concat(e.quiz,":  ").concat(e.score)))}))}()))}))),Y=function(e){var t=e.nextQuestionHandler;return r.a.createElement("div",null,r.a.createElement(v.a,{basic:!0,color:"purple",content:"True",onClick:function(){return t("True")}}),r.a.createElement(v.a,{basic:!0,color:"purple",content:"False",onClick:function(){return t("False")}}))},K=function(e){var t=e.currentQuestion,a=e.nextQuestionHandler,n=function(e){var t,a,n;for(n=e.length-1;n>0;n--)t=Math.floor(Math.random()*(n+1)),a=e[n],e[n]=e[t],e[t]=a;return e};return r.a.createElement("div",null,function(){if(t._id){var e=[];return t.incorrect_answers.forEach((function(t){e.push(t.answer)})),e.push(t.correct_answer),n(e).map((function(e,t){return r.a.createElement(v.a,{key:t,basic:!0,color:"purple",content:e,onClick:function(){return a(e)}})}))}return t.incorrect_answers.push(t.correct_answer),n(t.incorrect_answers).map((function(e,t){return r.a.createElement(v.a,{key:t,basic:!0,color:"purple",content:atob(e),onClick:function(){return a(atob(e))}})}))}())};function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach((function(t){Object(D.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $=Object(h.f)(Object(o.b)((function(e){return{quizData:e.appState.quizData,user:e.appState.user}}),(function(e){return{gotQuizData:function(t){e({type:p.QUIZ_DATA,payload:t})},gotUser:function(t){e({type:p.GOT_USER,payload:t})}}}))((function(e){var t=Object(n.useState)(0),a=Object(y.a)(t,2),c=a[0],u=a[1],o=Object(n.useState)(0),i=Object(y.a)(o,2),l=i[0],s=i[1],m=Object(n.useState)(null),f=Object(y.a)(m,2),d=f[0],b=f[1],h=e.gotQuizData,v=e.match;Object(n.useEffect)((function(){(function(){var e=Object(j.a)(z.a.mark((function e(){var t,a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=v.params.selectedQuiz,a=v.path.split("/quiz/")[1],n=null,!a||"multipleChoice/:selectedQuiz"!==a){e.next=7;break}return e.next=6,k.getQuizdata(p.MULTIPLE,t);case 6:n=e.sent;case 7:if(!a||"boolean/:selectedQuiz"!==a){e.next=11;break}return e.next=10,k.getQuizdata(p.BOOLEAN,t);case 10:n=e.sent;case 11:if(!a||":selectedQuiz"!==a){e.next=15;break}return e.next=14,k.getQuizdata(null,t);case 14:n=e.sent;case 15:h(n);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[h,v]);var O=function(){var t=Object(j.a)(z.a.mark((function t(a){var n,r,c,u,o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={},n=a?{quiz:e.quizData.quizTitle,userId:e.user.id,score:l}:{quiz:atob(e.quizData[0].category),userId:e.user.id,score:l},t.next=4,k.saveScore(n);case 4:(r=t.sent).message?(b("Your new score is ".concat(r.newScore.score,"!")),u=e.user.scores.find((function(e){return e.id===r.newScore.id})),o=e.user.scores.indexOf(u),e.user.scores.splice(o,1),e.user.scores.push(r.newScore),e.gotUser(X({},e.user))):(c=e.user.scores.concat(r),e.gotUser(X({},e.user,{scores:c})),b("You scored ".concat(r.score,"!")));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(t){if(t===(e.quizData.questions?e.quizData.questions[c].correctAnswer||e.quizData.questions[c].correct_answer:atob(e.quizData[c].correct_answer))&&s(l+1),e.quizData.questions&&c===e.quizData.questions.length-1){O(!0),u(null)}if(e.quizData.questions||c!==e.quizData.length-1)return u(c+1);O(),u(null)};return r.a.createElement("div",null,r.a.createElement("h2",null,d),e.quizData&&e.quizData[c]||e.quizData.questions&&e.quizData.questions[c]?r.a.createElement("div",null,r.a.createElement("div",{className:"questionContainer"},r.a.createElement("h3",null,e.quizData.questions?e.quizData.questions[c].question:atob(e.quizData[c].question))),!e.quizData.questions&&atob(e.quizData[c].type)===p.BOOLEAN||e.quizData.questions&&e.quizData.questions[c].type===p.BOOLEAN?r.a.createElement(Y,{nextQuestionHandler:g}):!e.quizData.questions&&atob(e.quizData[c].type)===p.MULTIPLE||e.quizData.questions&&e.quizData.questions[c].type===p.MULTIPLE?r.a.createElement(K,{nextQuestionHandler:g,currentQuestion:e.quizData.questions?e.quizData.questions[c]:e.quizData[c]}):void 0):r.a.createElement(E.b,{to:"/quiz"},"Back to quizzes"),r.a.createElement("h3",null,"Score: ",l))}))),ee=(a(352),function(){return r.a.createElement("div",{className:"notFound"},r.a.createElement("div",{className:"infoText"},r.a.createElement("h1",null,"Not found! ",r.a.createElement("span",{role:"img","aria-label":"Emoji"},"\ud83e\udd7a")),r.a.createElement("p",null,"The resource you're looking for doesn't exist."),r.a.createElement(E.b,{to:"/"},"Back to startpage")))}),te={createUser:function(){var e=Object(j.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("/api/users",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ae=(a(353),function(){var e=Object(n.useState)(""),t=Object(y.a)(e,2),a=t[0],c=t[1],u=Object(n.useState)(""),o=Object(y.a)(u,2),i=o[0],l=o[1],s=Object(n.useState)(""),p=Object(y.a)(s,2),m=p[0],f=p[1];return r.a.createElement("div",{className:"loginContainer"},r.a.createElement("h1",null,"Create an account"),r.a.createElement("form",{onSubmit:function(){te({userName:a,name:i,passWord:m})},className:"inputForm"},r.a.createElement(N.a,{className:"inputField",icon:r.a.createElement(I.a,{name:"delete",link:!0,onClick:function(){c("")}}),placeholder:"Username...",value:a,onChange:function(e){c(e.target.value)}}),r.a.createElement(N.a,{className:"inputField",icon:r.a.createElement(I.a,{name:"delete",link:!0,onClick:function(){c("")}}),placeholder:"Name...",value:i,onChange:function(e){l(e.target.value)}}),r.a.createElement(N.a,{className:"inputField",icon:r.a.createElement(I.a,{name:"delete",link:!0,onClick:function(){f("")}}),placeholder:"Password...",value:m,onChange:function(e){f(e.target.value)}}),r.a.createElement(v.a,{className:"registerBtn",content:"Register",type:"submit",basic:!0,color:"purple"})),r.a.createElement(E.b,{to:"/"},"Or login here"))}),ne=a(382),re=a(381),ce=(a(60),function(e){var t=e.quizType,a=e.handleRadioButnChange;return r.a.createElement("div",{className:"quizSelectionForm"},r.a.createElement(ne.a,null,r.a.createElement(ne.a.Field,{style:{fontSize:20,marginBottom:35}},"Create your own quiz here, start by selecting quiz type:"),r.a.createElement(ne.a.Field,null,r.a.createElement(re.a,{label:"Multiple choice",name:"radioGroup",value:"multiple",checked:"Multiple choice"===t,onChange:a})),r.a.createElement(ne.a.Field,null,r.a.createElement(re.a,{label:"True / False",name:"radioGroup",value:"boolean",checked:"True / False"===t,onChange:a}))))});var ue=function(e){var t=e.placeholder,a=e.newAnswerHandler,c=e.index,u=e.correct,o=Object(n.useState)(""),i=Object(y.a)(o,2),l=i[0],s=i[1];return r.a.createElement("div",null,r.a.createElement(N.a,{className:"inputField",icon:r.a.createElement(I.a,{name:"delete",link:!0,onClick:function(){s("")}}),placeholder:t,value:l,onChange:function(e){s(e.target.value),a({index:c,answer:e.target.value,correct:u})}}))},oe=Object(o.b)((function(e){return{multiQuizData:e.appState.multiQuizData}}),(function(e){return{saveQuizData:function(t){e({type:p.MULTI_QUIZ_DATA,payload:t})}}}))((function(e){var t=e.numberOfAnswers,a=e.errorHandler,c=e.saveQuizData,u=e.questionIndex,o=Object(n.useState)(""),i=Object(y.a)(o,2),l=i[0],p=i[1],m=Object(n.useState)(""),f=Object(y.a)(m,2),d=f[0],b=f[1],E=Object(n.useState)([]),h=Object(y.a)(E,2),O=h[0],g=h[1],z=Object(n.useState)(""),j=Object(y.a)(z,2),q=j[0],w=j[1],Q=function(e){if("correct"===e.index)return b(e.answer);var t=O.findIndex((function(t){return t.index===e.index}));if(-1===t)return g([].concat(Object(s.a)(O),[e]));O[t]=e,g(Object(s.a)(O))};return r.a.createElement("div",{className:"quizRow"},r.a.createElement(N.a,{className:"inputField",icon:r.a.createElement(I.a,{name:"delete",link:!0,onClick:function(){p("")}}),placeholder:"Question",value:l,onChange:function(e){p(e.target.value)}}),function(){for(var e=[r.a.createElement(ue,{key:"correctAnswer",index:"correct",newAnswerHandler:Q,placeholder:"Correct answer",correct:!0})],a=0;a<t;a++)e.push(r.a.createElement(ue,{index:a,newAnswerHandler:Q,placeholder:"Incorrect answer",correct:!1}));return r.a.createElement("div",{className:"answerRow"},e.map((function(e,t){return r.a.createElement("div",{key:t},e)})))}(),r.a.createElement(v.a,{className:"saveBtn",content:"Save question",type:"submit",basic:!0,color:"purple",onClick:function(){return l.length<5?(a("Question should be at least 5 characters"),!1):O.length<t?(a("You have not filled in all the asnwers"),!1):(c({questionIndex:u,question:l,correct_answer:d,incorrect_answers:O}),void w("Question saved!"))}}),r.a.createElement("p",null,q))})),ie=Object(o.b)((function(e){return{booleanQuizData:e.appState.booleanQuizData}}),(function(e){return{saveQuizData:function(t){e({type:p.BOOLEAN_QUIZ_DATA,payload:t})}}}))((function(e){var t=Object(n.useState)(""),a=Object(y.a)(t,2),c=a[0],u=a[1],o=Object(n.useState)(""),i=Object(y.a)(o,2),l=i[0],s=i[1],p=Object(n.useState)(""),m=Object(y.a)(p,2),f=m[0],d=m[1],b=function(e){"True"===e.target.textContent&&s("True"),"False"===e.target.textContent&&s("False")};return r.a.createElement("div",{className:"booleanWrapper"},r.a.createElement(N.a,{className:"inputField",icon:r.a.createElement(I.a,{name:"delete",link:!0,onClick:function(){u("")}}),placeholder:"Question",value:c,onChange:function(e){u(e.target.value)}}),r.a.createElement("div",null,r.a.createElement(ne.a,{className:"answerForm"},r.a.createElement(ne.a.Field,null,r.a.createElement(re.a,{label:"False",name:"radioGroup",value:"False",onChange:b})),r.a.createElement(ne.a.Field,null,r.a.createElement(re.a,{label:"True",name:"radioGroup",value:"True",onChange:b})))),r.a.createElement(v.a,{className:"saveBtn",content:"Save question",type:"submit",basic:!0,color:"purple",onClick:function(){return c.length<5?(e.errorHandler("Question should be at least 5 characters"),!1):l?(e.saveQuizData({questionIndex:e.questionIndex,question:c,correctAnswer:l}),void d("Question saved!")):(e.errorHandler("Select the correct answer"),!1)}}),r.a.createElement("p",null,f))})),le=a(383),se={createBooleanQuiz:function(){var e=Object(j.a)(z.a.mark((function e(t){var a,n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/booleanQuiz",a=b.getState(),n={headers:{Authorization:"bearer ".concat(a.appState.token)}},e.prev=3,e.next=6,w.a.post("/api/booleanQuiz",t,n);case 6:return r=e.sent,e.abrupt("return",r.data);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response.data);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),createMultiChoiceQuiz:function(){var e=Object(j.a)(z.a.mark((function e(t){var a,n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/multiQuiz",a=b.getState(),n={headers:{Authorization:"bearer ".concat(a.appState.token)}},e.prev=3,e.next=6,w.a.post("/api/multiQuiz",t,n);case 6:return r=e.sent,e.abrupt("return",r.data);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response.data);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},pe=Object(o.b)((function(e){return{booleanQuizData:e.appState.booleanQuizData,multiQuizData:e.appState.multiQuizData}}))((function(e){var t=Object(n.useState)(""),a=Object(y.a)(t,2),c=a[0],u=a[1],o=Object(n.useState)(""),i=Object(y.a)(o,2),l=i[0],s=i[1],p=Object(n.useState)(""),m=Object(y.a)(p,2),f=m[0],d=m[1],b=Object(n.useState)(""),E=Object(y.a)(b,2),h=E[0],O=E[1],g=Object(n.useState)(""),q=Object(y.a)(g,2),w=q[0],Q=q[1],S=Object(n.useState)(""),k=Object(y.a)(S,2),x=k[0],D=k[1],C=function(e){O(e),setTimeout((function(){O("")}),3e3)},T=function(){var t=Object(j.a)(z.a.mark((function t(){var a,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a={quizTitle:w,questions:null},"True / False"===f&&(a.questions=e.booleanQuizData),"Multiple choice"===f&&(a.questions=e.multiQuizData),(r=a).quizTitle.length<5?(C("Quiz title should be at least 5 characters"),0):r.questions.length?!(r.questions.length<c-1)||(C("You have not saved all the questions"),0):(C("There are no saved questions"),0)){t.next=7;break}return t.abrupt("return",!1);case 7:if("True / False"!==f){t.next=13;break}return t.next=10,se.createBooleanQuiz(a);case 10:t.t0=t.sent,t.next=16;break;case 13:return t.next=15,se.createMultiChoiceQuiz(a);case 15:t.t0=t.sent;case 16:(n=t.t0).error?C(n.error.message):D("Quiz saved!");case 18:d(""),Q(""),u("");case 21:case"end":return t.stop()}var r}),t)})));return function(){return t.apply(this,arguments)}}(),U=function(e){f?u(e.target.textContent):C("Select a quiz type")},_=function(e){"Multiple choice"!==f?C("Select a quiz type"):s(e.target.textContent-1)};return r.a.createElement("div",{className:"wrapper"},r.a.createElement(ce,{quizType:f,handleRadioButnChange:function(e){d(e.target.textContent)}}),r.a.createElement(N.a,{className:"inputField",icon:r.a.createElement(I.a,{name:"delete",link:!0,onClick:function(){Q("")}}),placeholder:"Quiz title",value:w,onChange:function(e){Q(e.target.value)}}),function(){for(var e=[],t=1;t<=15;t++)e.push({key:t,text:t,value:t});return r.a.createElement("div",{className:"dropDown"},r.a.createElement("p",{style:{color:"red",fontSize:16}},h),r.a.createElement("div",{className:"dropDownWrapper"},r.a.createElement("p",null,"Number of questions"),r.a.createElement(le.a,{placeholder:"Select the number of questions",fluid:!0,selection:!0,options:e,onChange:U})),"Multiple choice"===f?r.a.createElement("div",{className:"dropDownWrapper"},r.a.createElement("p",null,"Number of answer choices"),r.a.createElement(le.a,{placeholder:"Select the number of answers",fluid:!0,selection:!0,options:e,onChange:_})):null)}(),function(){var e=[];if(f&&"Multiple choice"===f&&c)for(var t=0;t<c;t++)e.push(r.a.createElement(oe,{numberOfAnswers:l,errorHandler:C,questionIndex:t}));if(f&&"True / False"===f&&c)for(var a=0;a<c;a++)e.push(r.a.createElement(ie,{errorHandler:C,questionIndex:a}));return r.a.createElement("div",null,e.map((function(e,t){return r.a.createElement("div",{key:t},e)})))}(),r.a.createElement(v.a,{className:"saveBtn",content:"Save quiz",type:"submit",basic:!0,color:"purple",onClick:function(){return T()}}),r.a.createElement("h2",{style:{textAlign:"initial"}},x))})),me=function(){return r.a.createElement("div",{className:"quizFormContainer"},r.a.createElement(pe,null))},fe=function(){return r.a.createElement("div",null,r.a.createElement(E.a,null,r.a.createElement(Z,null),r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",render:function(){return r.a.createElement(O,null)}}),r.a.createElement(h.a,{exact:!0,path:"/chat",render:function(){return r.a.createElement(G,null)}}),r.a.createElement(h.a,{exact:!0,path:"/quiz",render:function(){return r.a.createElement(x,null)}}),r.a.createElement(h.a,{exact:!0,path:"/login",render:function(){return r.a.createElement(F,null)}}),r.a.createElement(h.a,{exact:!0,path:"/register",render:function(){return r.a.createElement(ae,null)}}),r.a.createElement(h.a,{exact:!0,path:"/profile",render:function(){return r.a.createElement(J,null)}}),r.a.createElement(h.a,{exact:!0,path:"/ownQuizzes",render:function(){return r.a.createElement(me,null)}}),r.a.createElement(h.a,{exact:!0,path:"/quiz/:selectedQuiz",render:function(){return r.a.createElement($,null)}}),r.a.createElement(h.a,{exact:!0,path:"/quiz/multipleChoice/:selectedQuiz",render:function(){return r.a.createElement($,null)}}),r.a.createElement(h.a,{exact:!0,path:"/quiz/boolean/:selectedQuiz",render:function(){return r.a.createElement($,null)}}),r.a.createElement(h.a,{component:ee}))))},de=function(){return r.a.createElement("div",null,r.a.createElement(E.a,null,r.a.createElement(h.a,{exact:!0,path:"/",render:function(){return r.a.createElement(F,null)}}),r.a.createElement(h.a,{exact:!0,path:"/register",render:function(){return r.a.createElement(ae,null)}})))},be=(a(368),Object(o.b)((function(e){return{user:e.appState.user}}),(function(e){return{gotUser:function(t){e({type:p.GOT_USER,payload:t})},gotToken:function(t){e({type:p.GOT_TOKEN,payload:t})}}}))((function(e){var t=e.gotUser,a=e.gotToken;return Object(n.useEffect)((function(){var e=window.localStorage.getItem("loggedInUser");if(e){var n=JSON.parse(e);n&&n.token&&(t(n),a(n.token))}}),[t,a]),r.a.createElement("div",{className:"App"},e.user?r.a.createElement(fe,null):r.a.createElement(de,null))})));u.a.render(r.a.createElement(o.a,{store:b},r.a.createElement(be,null)),document.getElementById("root"))},60:function(e,t,a){}},[[207,1,2]]]);
//# sourceMappingURL=main.098f6a25.chunk.js.map